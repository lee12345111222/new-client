"use strict";(self.webpackChunkweb_front=self.webpackChunkweb_front||[]).push([[127],{3791:function(e,n,s){s.r(n),s.d(n,{ModalContext:function(){return Fe},default:function(){return Be}});var t=s(4165),r=s(5861),a=s(9439),i=s(2791),c=s(7689),l=s(7780),o=s(3845),d=s(1413),u=s(5815),m=s.n(u),h=s(1175),p=s(4916),v=s(3659),f=s(7309),g=s(5365),x=void 0;function j(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(s){g.Z.emit(e,n,(function(e){var n=e.error,t=e.data;s({error:n,data:t})}))}))}var y=function(e){var n=new Date(e).getHours(),s=new Date(e);return"".concat(n,":").concat((s.getMinutes()<10?"0":"")+s.getMinutes())},N=function(e){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:450;return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];window.clearTimeout(n),n=window.setTimeout((function(){return e.apply(x,r)}),s)}},w=s(184),k=function(e){var n=e.setThanks,s=(0,i.useState)(""),t=(0,a.Z)(s,2),r=t[0],c=t[1],l=(0,i.useState)(""),o=(0,a.Z)(l,2),d=o[0],u=o[1],h=(0,i.useState)(""),p=(0,a.Z)(h,2),g=p[0],x=p[1],j={}.user,y=(j._id,j.name),k=N((function(e){return c(e)})),S=N((function(e){return u(e)})),C=N((function(e){return x(e)}));(0,i.useEffect)((function(){c(y)}),[]);return(0,w.jsxs)("div",{className:"swag-collapse-add-receipt-form",children:[(0,w.jsxs)("div",{className:"swag-collapse-add-receipt-input",children:[(0,w.jsx)("div",{children:"\u6536\u4ef6\u4eba"}),(0,w.jsx)(v.Z,{defaultValue:y,onChange:function(e){return k(e.target.value)}})]}),(0,w.jsxs)("div",{className:"swag-collapse-add-receipt-input",children:[(0,w.jsx)("div",{children:"\u6536\u4ef6\u7535\u8bdd"}),(0,w.jsx)(v.Z,{onChange:function(e){return S(e.target.value)}})]}),(0,w.jsxs)("div",{className:"swag-collapse-add-receipt-input",children:[(0,w.jsx)("div",{children:"\u6536\u4ef6\u5730\u5740"}),(0,w.jsx)(v.Z,{onChange:function(e){return C(e.target.value)}})]}),(0,w.jsx)("div",{children:(0,w.jsx)(f.Z,{onClick:function(){m()(g),m()(r),m()(d);n(!0),setTimeout((function(){n(!1)}),3e3)},disabled:!g||!r||!d,children:"\u63d0\u4ea4"})})]})},S=s(7912),C=p.Z.Panel,Z=function(){var e=(0,i.useState)(!1),n=(0,a.Z)(e,2),s=n[0],t=n[1],r={user:{},swag:{},awards:{}},c=r.awards,o=(r.user._id,r.swag.prizeFinished);(0,i.useEffect)((function(){}),[o]);return(0,w.jsx)(p.Z,{defaultActiveKey:["0"],className:"swag-collapse",onChange:function(){c.swag},children:(0,w.jsx)(C,{className:"swag-panel",header:"\u70b9\u51fb\u9886\u53d6\u8c37\u6b4c\u4e58\u98ce\u7834\u6d6a\u53c2\u4f1a\u793c\u54c1\uff01",children:(0,w.jsx)("div",{className:"swag-collapse-body",children:c.swag?s||o?(0,w.jsxs)("div",{className:"swag-collapse-swag-success",children:[(0,w.jsx)("div",{className:"swag-collapse-swag-success-img",children:o?(0,w.jsx)("img",{src:S.yX.SWAG_GIFT_RUN_OUT,alt:""}):(0,w.jsx)("img",{src:S.yX.SWAG_GIFT,alt:""})}),(0,w.jsx)("div",{className:"swag-collapse-swag-success-text",children:o?(0,w.jsx)("div",{children:c.swag.prizeName}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{children:"\u586b\u5199\u6210\u529f \u656c\u8bf7\u671f\u5f85"}),(0,w.jsx)("div",{children:"\u6211\u4eec\u5c06\u628a\u793c\u7269\u5bc4\u9001\u81f3\u60a8\u586b\u5199\u7684\u5730\u5740"})]})})]}):(0,w.jsxs)("div",{className:"swag-collapse-add-receipt",children:[(0,w.jsx)("div",{className:"swag-collapse-add-receipt-img",children:(0,w.jsx)("img",{src:"https://oss.uppmkt.com/cxo/img/swag/Swag_".concat(c.swag.prizeName,".png"),alt:""})}),(0,w.jsxs)("div",{className:"swag-collapse-add-receipt-prize",children:[(0,w.jsxs)("div",{className:"swag-collapse-prize",children:[(0,w.jsx)("div",{children:"\u606d\u559c\u60a8\u62bd\u4e2d"}),(0,w.jsxs)("div",{children:[c.pre&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{children:"\u4f1a\u524d\u63d0\u95ee\u4e13\u5c5e\u597d\u793c "}),"\u4e0e"," "]}),(0,w.jsx)("span",{children:c.swag.prizeName})]})]}),(0,w.jsx)("p",{children:"\u8bf7\u586b\u5199\u6536\u4ef6\u4eba\u4fe1\u606f\uff0c\u6211\u4eec\u5c06\u628a\u793c\u7269\u5bc4\u9001\u81f3\u60a8\u586b\u5199\u7684\u5730\u5740"})]}),(0,w.jsx)(k,{setThanks:t})]}):(0,w.jsxs)("div",{className:"swag-collapse-drawing",children:[(0,w.jsx)("div",{className:"swag-collapse-drawing-animation",children:(0,w.jsx)(l.Z,{isClickToPauseDisabled:!0,options:{loop:!1,autoplay:!0,animationData:S.vi.SWAG_LUCKY_DRAWING,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}}})}),(0,w.jsx)("div",{className:"swag-collapse-drawing-text",children:(0,w.jsx)("div",{children:"\u62bd\u5956\u4e2d..."})})]})})},"1")})},b=s(3539),_=s(8687),I=s(3990),A=s(4692),M=s(7106),E=s(5761),R=function(e){var n=e.handleReplyMessageClick,s=e.scrollRef,t=e.handleScroll,r={user:{user:{}},chat:{messages:[],loading:!1}},a=r.user.user._id,c=r.chat.loading,l=(0,_.v9)((function(e){return e.main})).mainInitial.chat,o=((void 0===l?{}:l).messages,(0,b.Z)()),d=(0,w.jsx)(M.Z,{style:{fontSize:25},spin:!0});return(0,w.jsxs)("div",{className:"message-list scroll-Control",onScroll:t,children:[(0,w.jsx)("div",{className:"message-list-loading",children:c&&(0,w.jsx)(A.Z,{indicator:d})}),[].map((function(e){return(0,w.jsxs)(i.Fragment,{children:[null===e.to?null:(0,w.jsx)("div",{className:e.from._id===a?"message-list-replied-hint-self":"message-list-replied-hint",children:e.from.name+" "+o.formatMessage({id:"main.reply to"})+" "+e.to.repliedName}),(0,w.jsxs)("div",{className:e.from._id===a?e.from.helper?["message-list-item-self","googler"].join(" "):"message-list-item-self":e.from.helper?["message-list-item","googler"].join(" "):"message-list-item",children:["sticker"===e.type?null:(0,w.jsx)("div",{className:"message-list-item-dot-btn",onClick:function(){return n({replied_id:e._id,repliedAvatar:e.from.avatar,repliedName:e.from.name,repliedContent:e.content})},role:"presentation",children:e.from._id===a?E.c.arrow_right():E.c.arrow_left()}),(0,w.jsx)("div",{className:"message-list-item-user-time",children:y(e.createTime)}),null===e.to?null:(0,w.jsx)("div",{className:"message-list-item-user-replied-content",children:e.to.repliedContent.length>100?e.to.repliedContent.substring(0,100)+"...":e.to.repliedContent}),(0,w.jsxs)("div",{className:"message-list-item-user-main",children:[(0,w.jsx)("div",{className:"message-list-item-user-container",children:(0,w.jsx)("img",{src:e.from.avatar,alt:"avatar img",className:"message-list-item-user-avatar"})}),(0,w.jsxs)("div",{className:"message-list-item-user-right",children:[(0,w.jsxs)("div",{className:"message-list-item-user-detail",children:[(0,w.jsx)("div",{className:"message-list-item-user-name",children:e.from.name}),e.from.googler?(0,w.jsx)("div",{className:"message-list-item-user-company",children:e.from.company}):null]}),"sticker"===e.type?(0,w.jsx)("div",{className:"message-list-item-content-sticker",children:(0,w.jsx)("img",{src:e.content,alt:"sticker"})}):(0,w.jsx)("div",{className:"message-list-item-content",dangerouslySetInnerHTML:{__html:e.content}})]})]})]})]},e._id)})),(0,w.jsx)("div",{className:"message-list-holder",ref:s})]})},T=function(e){var n=e.handleSubmitMessage,s=e.inputContent,t=e.type;return(0,w.jsx)("button",{onClick:function(){return n(t)},id:"send-message-button",className:"send-message-button",disabled:""===s,children:E.c.paperPlane()})},L=function(e){var n=e.replied,s=e.handleRepliedDetailClose;return(0,w.jsx)("div",{className:"message-list-replied-section",children:(0,w.jsxs)("div",{className:"message-list-replied-section-body",children:[(0,w.jsx)("div",{className:"message-list-replied-section-img-container",children:(0,w.jsx)("img",{src:n.repliedAvatar,alt:n.repliedAvatar})}),(0,w.jsxs)("div",{className:"message-list-replied-section-content-container",children:[(0,w.jsx)("div",{className:"message-list-replied-section-name",children:n.repliedName}),(0,w.jsx)("div",{className:"message-list-replied-section-content",children:n.repliedContent.length>40?n.repliedContent.substring(0,40)+"...":n.repliedContent})]}),(0,w.jsx)("button",{className:"message-list-replied-section-close-btn",onClick:s,children:E.c.close()})]})})},O=s(7273),P={stickers:["https://oss.uppmkt.com/cxo/img/sticker/Stickers_001.png","https://oss.uppmkt.com/cxo/img/sticker/Stickers_002.png","https://oss.uppmkt.com/cxo/img/sticker/Stickers_003.png","https://oss.uppmkt.com/cxo/img/sticker/Stickers_004.png","https://oss.uppmkt.com/cxo/img/sticker/Stickers_005.png","https://oss.uppmkt.com/cxo/img/sticker/Stickers_006.png","https://oss.uppmkt.com/cxo/img/sticker/Stickers_007.png","https://oss.uppmkt.com/cxo/img/sticker/Stickers_008.png"]},D={emoji:[" \ud83e\udd17 "," \ud83e\udd20 "," \ud83d\udc4d "," \ud83d\udc4c "," \ud83d\ude4c "," \ud83d\udc4f "]},U=function(e){var n=e.handleSendSticker,s=e.handleSendEmoji,t=(0,w.jsxs)("div",{className:"sticker-dropdown-box",children:[(0,w.jsx)("div",{className:"sticker-dropdown-emojiBox",role:"presentation",onClick:s,children:D.emoji.map((function(e){return(0,w.jsx)("span",{className:"emoji-item","data-name":e,children:e},e)}))}),(0,w.jsx)("div",{className:"sticker-dropdown-bigStickerBox",role:"presentation",onClick:n,children:P.stickers.map((function(e){return(0,w.jsx)("div",{className:"bigSticker-itemBox",children:(0,w.jsx)("img",{className:"bigSticker-itemSvg",src:e,alt:"sticker"})},e)}))})]});return(0,w.jsx)(O.Z,{overlay:t,placement:"topRight",children:(0,w.jsx)(f.Z,{className:"send-message-button",children:E.c.stickerFace()})})},F=function(e){var n=e.messageInputRef,s=e.handleInputKeyDown,t=e.setIsInputtingMandarin,r=e.handleSubmitMessage,a=e.setInputContent,c=e.inputContent,l=e.type,o=e.showReply,d=e.replied,u=e.handleRepliedDetailClose,m=e.section,h=e.handleSendSticker,p=e.handleSendEmoji,v=(0,b.Z)();return(0,i.useEffect)((function(){n&&n.current&&n.current.focus()}),[]),(0,w.jsxs)("div",{className:"message-box-container",children:["chatroom"===m?o&&(0,w.jsx)(L,{replied:d,handleRepliedDetailClose:u}):null,(0,w.jsx)("form",{autoComplete:"off",onSubmit:function(e){return e.preventDefault()},className:"message-form",children:(0,w.jsx)("textarea",{placeholder:"chatroom"===m?v.formatMessage({id:"main.Type your reply"}):"\u53d1\u8d77\u95ee\u9898",maxLength:500,ref:n,onKeyPress:function(e){return s(l,e)},onCompositionStart:function(){return t(!0)},onCompositionEnd:function(){return t(!1)},className:"message-textarea scroll-Control",onChange:function(e){return a(e.target.value)},value:c})}),"chatroom"===m&&h&&p?(0,w.jsx)(U,{handleSendSticker:h,handleSendEmoji:p}):null,(0,w.jsx)(T,{handleSubmitMessage:r,type:l,inputContent:c})]})},X=s(2195),B=function(e){var n=e.messageInputRef,s=e.handleInputKeyDown,a=e.handleSubmitMessage,c=e.setIsInputtingMandarin,l=e.setInputContent,o=e.inputContent,d=e.type,u=e.handleReplyMessageClick,m=e.handleRepliedDetailClose,h=e.showReply,p=e.replied,v=e.handleSendSticker,f=e.handleSendEmoji,g=(0,i.useRef)(null),x={messages:[]},j={user:{}}.user,y=(j._id,j.eventId),N=x,k=N.messages,S=(N.comingData,(0,i.useContext)(X.A).locale);(0,i.useEffect)((function(){}),[y,S]),(0,i.useEffect)((function(){g&&g.current&&g.current.scrollIntoView({block:"end"})}),[k.length]);var C=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===(s=n.target).scrollTop&&(s.scrollHeight,s.clientHeight);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,w.jsxs)("div",{className:"chat-wrap",children:[(0,w.jsx)(R,{scrollRef:g,handleScroll:C,handleReplyMessageClick:u}),(0,w.jsx)(F,{section:"chatroom",messageInputRef:n,handleInputKeyDown:s,setIsInputtingMandarin:c,handleSubmitMessage:a,setInputContent:l,inputContent:o,type:d,showReply:h,replied:p,handleRepliedDetailClose:m,handleSendSticker:v,handleSendEmoji:f})]})},G=s(1087),W=s(5786),z=function(e){var n=e.setChangeEvent,s=(0,c.TH)(),t=(0,b.Z)();return(0,w.jsxs)(W.Z,{onClick:function(){n(!1)},selectedKeys:[s.pathname],mode:"horizontal",children:[(0,w.jsxs)(W.Z.Item,{children:[E.c.chat_icon(),(0,w.jsx)(G.rU,{to:"/main",children:t.formatMessage({id:"main.Chat"})})]},"/main"),(0,w.jsxs)(W.Z.Item,{children:[E.c.survey_icon(),(0,w.jsx)(G.rU,{to:"/main/post",children:t.formatMessage({id:"main.Survey"})})]},"/main/post"),(0,w.jsxs)(W.Z.Item,{children:[E.c.temperature(),(0,w.jsx)(G.rU,{to:"/main/score",children:t.formatMessage({id:"main.Score"})})]},"/main/score"),(0,w.jsxs)(W.Z.Item,{children:[E.c.cap(),(0,w.jsx)(G.rU,{to:"/main/leaders",children:t.formatMessage({id:"main.LeaderBoard"})})]},"/main/leaders")]})},K=(0,i.memo)(z),q=s(3433),H=s(6409),V=p.Z.Panel,Y=function(e){var n=e.currentSurveyRef,s=e.thanksShow,t=e.handleSubmitSurveyAnswer,r=(0,i.useState)([]),c=(0,a.Z)(r,2),l=c[0],o=c[1],d=(0,i.useState)(!0),u=(0,a.Z)(d,2),m=u[0],h=u[1],v=(0,i.useState)([]),g=(0,a.Z)(v,2),x=g[0],j=g[1],y={}.result,N=y.result,k=y.total,C=y.correct,Z=(0,b.Z)();(0,i.useEffect)((function(){l.length>0?h(!1):h(!0)}),[l.length]);var _=function(e){if("multiple"===e.type)x.includes(e.option)?(j((function(n){return n.filter((function(n){return n!==e.option}))})),o((function(n){return n.filter((function(n){return n.option!==e.option}))}))):(j((function(n){return[].concat((0,q.Z)(n),[e.option])})),o((function(n){return[].concat((0,q.Z)(n),[e])})));else{if("single"!==e.type)return;x.includes(e.option)?(j([]),o([])):(j([e.option]),o([e]))}};return N&&N.length?(0,w.jsx)(p.Z,{defaultActiveKey:["1"],className:"survey-collapse",children:(0,w.jsxs)(V,{className:"survey-panel",header:"Live Poll",children:[(0,w.jsx)("h3",{className:"survey-question",children:n.current.subject}),(0,w.jsx)("div",{className:"survey-process",children:N.map((function(e){return(0,w.jsxs)("div",{className:"survey-process-container",children:[(0,w.jsxs)("div",{className:"survey-process-text",children:[(0,w.jsx)("div",{className:"survey-process-q-text",style:C.includes(e.option)?{fontWeight:"600"}:{fontWeight:"400"},children:e.option}),(0,w.jsx)("div",{className:"survey-process-text-right",children:(0,w.jsxs)("span",{className:"survey-process-text-percent",children:[0===k?(100/N.length).toFixed(2):e.percent,"%"]})})]}),(0,w.jsx)(H.Z,{strokeColor:C.includes(e.option)?"#669DF6":"#DADCE0",percent:0===k?100/N.length:e.percent,showInfo:!1})]},e.option)}))}),(0,w.jsx)("div",{className:"survey-result-unlock",children:(0,w.jsxs)("div",{className:"survey-result-unlock-body",children:[(0,w.jsx)("div",{className:"survey-result-unlock-img",children:(0,w.jsx)("img",{src:S.yX.UNLOCK_ICON,alt:"lock"})}),(0,w.jsxs)("div",{className:"survey-result-unlock-content",children:[(0,w.jsx)("img",{src:S.yX.UNLOCK_LOCK,alt:"lock"}),Z.formatMessage({id:"main.Unlock"})]})]})})]},"1")}):(0,w.jsx)(p.Z,{defaultActiveKey:["1"],className:"survey-collapse",children:(0,w.jsxs)(V,{className:"survey-panel",header:Z.formatMessage({id:"main.Live Polling"}),children:[(0,w.jsx)("h3",{children:n.current&&n.current.subject}),s?(0,w.jsxs)("div",{className:"survey-done-content",children:[(0,w.jsx)("div",{className:"survey-doneImg-box",children:(0,w.jsx)("img",{className:"survey-doneImg",src:S.yX.DONE,alt:""})}),"_post"===s?Z.formatMessage({id:"main.Done!"}):Z.formatMessage({id:"main.WaitOtherUser"})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"survey-options",children:n.current&&n.current.options.map((function(e){return(0,w.jsxs)("div",{children:[(0,w.jsx)("input",{id:e.option,type:"checkbox",className:"survey-options-checkbox",checked:x.includes(e.option),onChange:function(){return _({option:e.option,type:n.current.type})}}),(0,w.jsx)("label",{htmlFor:e.option,className:"survey-options-label",onChange:function(){return _({option:e.option,type:n.current.type})},role:"presentation",children:e.option})]},e.option)}))}),(0,w.jsx)(f.Z,{className:"survey-btn",disabled:m,onClick:function(){return t(l,{surveyId:n.current.surveyId,category:n.current.category})},children:Z.formatMessage({id:"main.Submit"})})]})]},"1")})},Q=p.Z.Panel,$=function(){var e={},n=e.scoreDetail,s=void 0===n?{detail:[]}:n,t=e.awards,r=void 0===t?{}:t,c=((0,_.v9)((function(e){return e.main})),(0,i.useState)(!0)),l=(0,a.Z)(c,2),o=l[0],d=l[1];return(0,w.jsxs)("div",{className:"score-wrap",children:[(0,w.jsxs)("div",{className:"score-user-info",children:[(0,w.jsx)("div",{className:"score-user-info-energy-bar",children:(0,w.jsx)("img",{src:"https://oss.uppmkt.com/cxo/img/energy/Value-".concat(~~(s.score/1e3),".png"),alt:"energy bar"})}),(0,w.jsx)("div",{className:"score-user-score",children:(0,w.jsxs)("div",{children:["\u76ee\u524d\u80fd\u91cf\u503c\uff1a",s.score]})})]}),(0,w.jsx)("div",{className:"score-list",children:s&&s.detail.map((function(e){return(0,w.jsxs)("div",{className:"score-list-item",children:[(0,w.jsx)("div",{children:e.name}),(0,w.jsxs)("div",{children:["+ ",e.score]})]},e.id)}))}),(0,w.jsx)(p.Z,{defaultActiveKey:["1"],className:"score-user-awards-collapse",onChange:function(){return d((function(e){return!e}))},children:(0,w.jsx)(Q,{className:o?"score-user-awards-panel panel-open":"score-user-awards-panel",header:"\u4e2d\u5956\u6e05\u5355",children:(0,w.jsxs)("ul",{className:"score-user-awards-list",children:[(0,w.jsxs)("li",{children:[(0,w.jsx)("div",{children:"\u4f1a\u524d\u63d0\u95ee"}),(0,w.jsx)("div",{children:r.pre?(0,w.jsx)("span",{className:"score-user-awards",children:r.pre.prizeName}):(0,w.jsx)("span",{className:"score-user-not-win",children:"\u672a\u4e2d\u5956"})})]}),(0,w.jsxs)("li",{children:[(0,w.jsx)("div",{children:"\u4e58\u98ce\u7834\u6d6a\u53c2\u4f1a\u793c\u54c1"}),(0,w.jsx)("div",{children:r.swag?(0,w.jsxs)("span",{className:"score-user-awards",children:["\u4e2d\u5956 - ",r.swag.prizeName]}):(0,w.jsx)("span",{className:"score-user-not-win",children:"\u5c1a\u672a\u53c2\u4e0e"})})]}),(0,w.jsxs)("li",{children:[(0,w.jsx)("div",{children:"\u4f1a\u4e2d\u95ee\u7b54"}),(0,w.jsx)("div",{children:r.middle?(0,w.jsx)("span",{className:"score-user-awards",children:r.middle.prizeName}):(0,w.jsx)("span",{className:"score-user-not-win",children:"\u672a\u4e2d\u5956"})})]}),(0,w.jsxs)("li",{children:[(0,w.jsx)("div",{children:"\u4e92\u52a8\u589e\u80fd\u91cf \u767b\u9876\u62bd\u597d\u793c"}),(0,w.jsx)("div",{children:r.post?(0,w.jsxs)("span",{className:"score-user-awards",children:[r.post.prizeName," "]}):(0,w.jsx)("span",{className:"score-user-not-win",children:"\u672a\u4e2d\u5956"})})]})]})},"1")})]})},J=(0,i.memo)($),ee=function(){var e=function(e){switch(e){case 1:return(0,w.jsx)("img",{src:S.yX.LEADER_BOARD_NOTE1,alt:"leader board avatar"});case 2:return(0,w.jsx)("img",{src:S.yX.LEADER_BOARD_NOTE2,alt:"leader board avatar"});case 3:return(0,w.jsx)("img",{src:S.yX.LEADER_BOARD_NOTE3,alt:"leader board avatar"})}return(0,w.jsx)("span",{children:e})};return(0,w.jsxs)("div",{className:"leader-board-wrap",children:[(0,w.jsx)("div",{className:"leader-board-title",children:"\u80fd\u91cf\u503c\u6392\u884c"}),(0,w.jsxs)("div",{className:"leader-board-item-header",children:[(0,w.jsx)("div",{className:"leader-board-item-avt",children:"\u6392\u884c"}),(0,w.jsx)("div",{className:"leader-board-item-info",children:"\u5609\u5bbe"}),(0,w.jsx)("div",{children:"\u80fd\u91cf\u503c"})]}),(0,w.jsx)("div",{className:"leader-board-list",children:[].map((function(n,s){return(0,w.jsxs)("div",{className:"leader-board-item",children:[(0,w.jsx)("div",{className:"leader-board-item-rank",children:e(s+1)}),(0,w.jsxs)("div",{className:"leader-board-item-info",children:[(0,w.jsx)("div",{children:(t=n.uid.name,t.replace(/([^A-Za-z0-9\s]{1})([^A-Za-z0-9\s]{1})/,"$1*"))}),(0,w.jsx)("div",{children:n.uid.company})]}),(0,w.jsx)("div",{children:n.score})]},n._id);var t}))})]})};function ne(e,n,s,t){j("userLocate",{eventId:e,socketId:n,code:s,identifier:t})}function se(e,n,s,t,r,a,i){return te.apply(this,arguments)}function te(){return(te=(0,r.Z)((0,t.Z)().mark((function e(n,s,r,a,i,c,l){var o,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("deliverMessageToConsole",{from:n,to:s,msgId:r,type:a,room:i,content:c,createTime:l});case 2:return o=e.sent,d=o.error,e.abrupt("return",d);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return ae.apply(this,arguments)}function ae(){return(ae=(0,r.Z)((0,t.Z)().mark((function e(){var n,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("checkPostSurveyStatus");case 2:return n=e.sent,s=n.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return ce.apply(this,arguments)}function ce(){return(ce=(0,r.Z)((0,t.Z)().mark((function e(){var n,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("checkGroupChatStatus");case 2:return n=e.sent,s=n.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return oe.apply(this,arguments)}function oe(){return(oe=(0,r.Z)((0,t.Z)().mark((function e(n){var s,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.code,r=n.currentEventId,e.next=3,j("receiveSurvey",{code:s,currentEventId:r});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=s(7762),ue=v.Z.TextArea,me=function(e){var n,s=e.restPostSurveyPage,t=e.setRestPostSurveyPage,r=e.setShowUnlockResult,l=e.showUnlockResult,o=e.resultRef,u=e.selectedOption,m=e.setSelectedOption,h=e.textAnswer,p=e.setTextAnswer,v=e.boxChecked,g=e.setBoxChecked,x=e.postSurveyShow,j=(0,b.Z)(),y={user:{user:{}},postSurvey:{postSurvey:[]}},N=y.user.user,k=N._id,C=N.code,Z=N.eventId,_=N.postSurveys,I=y.postSurvey.postSurveys,A=(0,i.useState)(!0),M=(0,a.Z)(A,2),E=M[0],R=M[1],T=(0,c.s0)();(0,i.useEffect)((function(){u.length>0||h.length>0||s&&!I[s-1].mustAnswer?R(!1):R(!0)}),[u.length,h.length]);var L=function(e,n){if("multiple"===e.type)v.includes(e.option+n)?(g((function(s){return s.filter((function(s){return s!==e.option+n}))})),m((function(n){return n.filter((function(n){return n.option!==e.option}))}))):(g((function(s){return[].concat((0,q.Z)(s),[e.option+n])})),m((function(n){return[].concat((0,q.Z)(n),[e])})));else{if("single"!==e.type)return;v.includes(e.option+n)?(g((function(e){return e.filter((function(e){return!e.includes(n)}))})),m([])):(g((function(e){return e.filter((function(e){return!e.includes(n)}))})),g((function(s){return[].concat((0,q.Z)(s),[e.option+n])})),m([e]))}},O=function(e,n,s,t){var r,a={userId:k,userCode:C,eventId:Z};"single"===s||"multiple"===s?(r={surveyId:e,category:n,selected:u},m([])):(r={surveyId:e,category:n,selected:h},p(""));var i=(0,d.Z)({sendingSurvey:r},a);if(i.sendingSurvey.selected.length>0||t)if(o.current.length>0){var c=o.current.filter((function(n){return n.sendingSurvey.surveyId!==e}));c.length>0?o.current=[].concat((0,q.Z)(c),[i]):o.current=[i]}else o.current=[i]},P=function(e,n,s,a,i,c){if("_submit"===a)O(e,n,s,!0),r(!0),window.setTimeout((function(){r(!1)}),3e3);else{if(O(e,n,s,!1),o.current.length>0){var l=o.current.filter((function(e){return e.sendingSurvey.surveyId===i}));if("single"===c||"multiple"===c)if(l.length>0){m(l[0].sendingSurvey.selected);var d,u=(0,de.Z)(l[0].sendingSurvey.selected);try{var h=function(){var e=d.value;i&&"object"===typeof e&&g((function(n){return[].concat((0,q.Z)(n),[e.option+i])}))};for(u.s();!(d=u.n()).done;)h()}catch(v){u.e(v)}finally{u.f()}}else m([]);else l.length>0?p(l[0].sendingSurvey.selected):p("")}else m([]);t((function(e){return e+1}))}};return(0,w.jsxs)("div",{className:"after-event-survey-wrap scroll-Control",children:[(0,w.jsx)(f.Z,{onClick:function(){document.body.clientWidth>700?T("/mergeImg"):T("/phoneMergeImg")},children:"\u5408\u6210\u56fe\u7247"}),x&&I&&I.length>0?(0,w.jsx)(w.Fragment,{children:_?(0,w.jsx)(w.Fragment,{children:l?(0,w.jsx)("div",{className:"after-event-survey-unlock",children:(0,w.jsx)("img",{src:S.yX.UNLOCK,alt:"unlock"})}):(0,w.jsx)("div",{className:"after-event-survey-unlock-result",children:(0,w.jsx)("div",{className:"after-event-survey-unlock-result-text",children:j.formatMessage({id:"main.UnlockMessage"})})})}):(0,w.jsx)(w.Fragment,{children:0===s?(0,w.jsxs)("div",{className:"after-event-startBox",children:[(0,w.jsx)("div",{className:"after-event-title",children:j.formatMessage({id:"main.PostSurveyStartMessage"})}),(0,w.jsx)(f.Z,{className:"after-event-survey-prev-btn",onClick:function(){return t(1)},children:j.formatMessage({id:"main.PostSurveyStart"})})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"after-event-Question",children:I[s-1].subject}),(0,w.jsxs)("div",{className:"after-event-survey-body",children:["single"===I[s-1].type||"multiple"===I[s-1].type?(0,w.jsx)("div",{className:"after-event-survey-options",children:null===(n=I[s-1])||void 0===n?void 0:n.options.map((function(e){return(0,w.jsxs)("div",{className:"after-event-survey-option",children:[(0,w.jsx)("input",{id:e.option,type:"checkbox",className:"after-event-survey-checkbox",checked:v.includes(e.option+I[s-1].surveyId),onChange:function(){return L({option:e.option,type:I[s-1].type},I[s-1].surveyId)}}),(0,w.jsx)("label",{htmlFor:e.option,className:"after-event-survey-label",onChange:function(){return L({option:e.option,type:I[s-1].type},I[s-1].surveyId)},role:"presentation",children:e.option})]},e.option)}))}):(0,w.jsx)("div",{className:"after-event-survey-textarea-box",children:(0,w.jsx)(ue,{className:"after-event-survey-textarea",value:h,onChange:function(e){return p(e.target.value)},placeholder:j.formatMessage({id:"main.PostSurveyTextPlaceholder"})})}),(0,w.jsxs)("div",{className:"after-event-survey-btn-group",children:[s-1<I.length-1&&(0,w.jsx)(f.Z,{disabled:E,className:"after-event-survey-next-btn",type:"primary",onClick:function(){return P(I[s-1].surveyId,I[s-1].category,I[s-1].type,"_next",I[s].surveyId,I[s].type)},children:j.formatMessage({id:"main.Next"})}),s-1===I.length-1&&(0,w.jsx)(f.Z,{disabled:E,type:"primary",className:"after-event-survey-submit-btn",onClick:function(){return P(I[s-1].surveyId,I[s-1].category,I[s-1].type,"_submit")},children:j.formatMessage({id:"main.Finish"})}),s-1>0&&(0,w.jsx)(f.Z,{className:"after-event-survey-prev-btn",onClick:function(){return function(e,n,s,r,i){var c=o.current.filter((function(n){return n.sendingSurvey.surveyId===e})),l=(0,a.Z)(c,1)[0];o.current=o.current.filter((function(e){return e.sendingSurvey.surveyId!==s})),(u.length>0||h.length>0)&&O(s,i,r,!1),"single"===r||"multiple"===r?g((function(e){return e.filter((function(e){return!e.includes(s)}))})):p(""),"single"===n||"multiple"===n?m(l.sendingSurvey.selected):p(l.sendingSurvey.selected),t((function(e){return e-1}))}(I[s-2].surveyId,I[s-2].type,I[s-1].surveyId,I[s-1].type,I[s-1].category)},children:j.formatMessage({id:"main.PostSurveyPrevious"})})]})]})]})})}):(0,w.jsx)("div",{className:"after-event-survey-before-start-text",children:j.formatMessage({id:"main.PostSurveyBefore"})})]})},he={replied_id:"",repliedAvatar:"",repliedName:"",repliedContent:""},pe=function(e){var n=e.setChangeEvent,s=(0,i.useRef)(null),l=(0,i.useRef)(null),o=(0,i.useRef)(0),u=(0,i.useRef)([]),p=(0,i.useState)(!1),v=(0,a.Z)(p,2),f=v[0],g=v[1],x=(0,i.useState)(""),j=(0,a.Z)(x,2),y=j[0],N=j[1],k=(0,i.useState)(!1),C=(0,a.Z)(k,2),A=C[0],M=C[1],E=(0,i.useState)(null),R=(0,a.Z)(E,2),T=R[0],L=R[1],O=(0,i.useState)(he),P=(0,a.Z)(O,2),D=P[0],U=P[1],F=(0,i.useState)([]),X=(0,a.Z)(F,2),G=X[0],W=X[1],z=(0,i.useState)(!1),q=(0,a.Z)(z,2),H=q[0],V=q[1],Q=(0,i.useState)(0),$=(0,a.Z)(Q,2),ne=$[0],te=$[1],ae=(0,i.useState)([]),ie=(0,a.Z)(ae,2),ce=ie[0],oe=ie[1],de=(0,i.useState)(""),ue=(0,a.Z)(de,2),pe=ue[0],ve=ue[1],fe=(0,i.useState)([]),ge=(0,a.Z)(fe,2),xe=ge[0],je=ge[1],ye=(0,i.useState)(!1),Ne=(0,a.Z)(ye,2),we=Ne[0],ke=Ne[1],Se=(0,i.useState)(!1),Ce=(0,a.Z)(Se,2),Ze=Ce[0],be=Ce[1],_e=(0,i.useState)(!1),Ie=(0,a.Z)(_e,2),Ae=Ie[0],Me=Ie[1],Ee={user:{},swag:{}},Re=Ee.user,Te=Re._id,Le=Re.code,Oe=Re.name,Pe=Re.avatar,De=Re.company,Ue=Re.googler,Xe=Re.eventId,Be=Re.helper,Ge=Re.admin,We=Re.whoSharedWalkin,ze=Ee.swag.finishSwag,Ke=(0,b.Z)(),qe=(0,_.v9)((function(e){return e})).global,He=qe.socket,Ve=(qe.socketId,qe.socketOn),Ye=(0,i.useContext)(Fe),Qe=Ye.setShowModal,$e=Ye.setModalContent,Je=(0,c.s0)(),en=(0,_.I0)();(0,i.useEffect)((function(){en(I.F7),en((0,I.x6)())}),[]),(0,i.useEffect)((function(){function e(){return(e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:n=e.sent,be(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,i.useEffect)((function(){}),[Xe]),(0,i.useEffect)((function(){return He.on("deliverPassedSpeech",(function(e){return un(e)})),He.on("deliverPassedQuestion",(function(e){return mn(e)})),He.on("sendChatbot",(function(e){return ln(e)})),He.on("luckyDraw",(function(e){return on(e)})),He.on("postSurveyGuiding",(function(e){return dn(e)})),He.on("sendSurvey",(function(e){return an(e)})),He.on("postSurveyOpen",(function(e){return tn(e)})),He.on("deliverLeaderBoard",(function(e){return sn(e)})),He.on("deliverUserScore",(function(e){return nn(e)})),function(){He.removeListener("deliverPassedSpeech"),He.removeListener("deliverPassedQuestion"),He.removeListener("sendChatbot"),He.removeListener("luckyDraw"),He.removeListener("postSurveyGuiding"),He.removeListener("sendSurvey"),He.removeListener("postSurveyOpen"),He.removeListener("deliverLeaderBoard"),He.removeListener("deliverUserScore")}}),[]);var nn=function(e){e.userScore},sn=function(e){e.leaders},tn=function(e){var n=e.postSurveyShow,s=e.postsurveySlug;be(n),n&&Je("/main/"+s)},rn=function(){o.current&&window.clearTimeout(o.current);var e=window.setTimeout((function(){l.current=null,M(!1)}),parseInt("30000"));o.current=e},an=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var s,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.payload.surveyData,r=n.message,l.current||!(Object.keys(s).length>0)){e.next=9;break}console.log({message:r}),l.current=s,M(!0),rn(),le({code:Le,currentEventId:Xe}),e.next=10;break;case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),cn=function(){o.current&&window.clearTimeout(o.current);var e=window.setTimeout((function(){l.current=null,M(!1),L(null)}),parseInt("2000"));L("_post"),o.current=e},ln=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var s,r,a,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=n.payload,r=s.helper,a=s.helperSpeech_id,i=n.message,console.log({message:i}),hn(i,r,a);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),on=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var s,r,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=n.payload.win,r=n.message,console.log({message:r}),o.current&&window.clearTimeout(o.current),a=window.setTimeout((function(){V(!1),window.setTimeout((function(){W([])}),parseInt("10000"))}),parseInt("8000")),V(!0),W(s),o.current=a;case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),dn=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=n.message,console.log({message:s}),Je("/main/post");case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),un=function(e){e.approved},mn=function(e){},hn=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,s,r){var a,i,c,l,o,d,u,p;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return");case 2:a=new h.t4(r).toString(),i=Date.now(),s&&s._id&&(c=s.eventId,l=s._id,o=s.name,d=s.avatar,u=s.company,p={to:null,type:"text",content:m()(n),msgId:a,createTime:i,eventId:c,_id:l,name:o,avatar:d,company:u,googler:!0,approved:!0,helper:!0,response:[]},pn(p));case 5:case"end":return e.stop()}}),e)})));return function(n,s,t){return e.apply(this,arguments)}}(),pn=function(e){},vn=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,s,r,a,i,c,l){var o,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(n,s,r,a,l,i,c);case 2:(o=e.sent)?($e(o),Qe(!0)):(d={to:s,type:a,content:m()(i),msgId:r,createTime:c,eventId:l,_id:Te,name:Oe,avatar:Pe,company:De,googler:Ue,approved:!1,helper:Be,response:[]},pn(d),U(he),Me(!1));case 4:case"end":return e.stop()}}),e)})));return function(n,s,t,r,a,i,c){return e.apply(this,arguments)}}(),fn=function(e,n){Ve||($e(Ke.formatMessage({id:"main.FAIL_TO_SEND_MSG"})),Qe(!0));var t="";if(0!==(t="sticker"===e&&n?n.trim():s.current.value.trim()).length){var r=(new h.t4).toString(),a=Date.now(),i=null;D.replied_id.length>0&&(i=D),t=t.replace(/\n|\r\n/g,"<br>"),vn(Te,i,r,e,m()(t),a,Xe),"sticker"!==e&&(s.current&&(s.current.value=""),N("")),s&&s.current&&s.current.focus()}},gn=(0,i.useCallback)((function(e){var n=e.replied_id,s=e.repliedAvatar,t=e.repliedName,r=e.repliedContent;U({replied_id:n,repliedAvatar:s,repliedName:t,repliedContent:r}),Me(!0)}),[]),xn=(0,i.useCallback)((function(){U(he),Me(!1)}),[]),jn=H?(0,w.jsx)("div",{className:"interactive-lucky-draw-animation",children:(0,w.jsx)("img",{src:S.yX.LUCKY_DRAW,alt:"lucky draw"})}):(0,w.jsx)("div",{className:"interactive-lucky-draw-winner",children:(0,w.jsxs)("div",{className:"interactive-lucky-draw-winner-container",children:[(0,w.jsx)("h2",{children:"Congratulations"}),(0,w.jsx)("div",{className:"interactive-lucky-draw-winner-body",children:G.map((function(e){return(0,w.jsxs)("div",{className:"interactive-lucky-draw-winner-item",children:[(0,w.jsx)("div",{className:"interactive-lucky-draw-winner-item-name",children:e.name}),(0,w.jsx)("div",{className:"interactive-lucky-draw-winner-item-company",children:e.company})]},e._id)}))})]})});return(0,w.jsx)("div",{className:"interactive-wrap",children:G&&G.length>0?(0,w.jsx)(w.Fragment,{children:jn}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(K,{setChangeEvent:n}),(0,w.jsxs)("div",{className:"interactive-routers-wrap",style:{overflow:"scroll"},children:[!(Be||Ge||Ue||We)&&!ze&&(0,w.jsx)(Z,{}),A&&(0,w.jsx)(Y,{thanksShow:T,currentSurveyRef:l,handleSubmitSurveyAnswer:function(e,n){if(e.length>0){var s=l.current.options.filter((function(e){if(e.isAnswer||"1"===e.isAnswer)return e.option})).map((function(e){return e.option}));(0,d.Z)((0,d.Z)({},n),{},{selected:e,correct:s});cn()}}}),(0,w.jsxs)(c.Z5,{children:[(0,w.jsx)(c.AW,{path:"/",element:(0,w.jsx)(B,{messageInputRef:s,handleSubmitMessage:fn,handleInputKeyDown:function(e,n){"Tab"===n.key?n.preventDefault():"Enter"!=n.key||n.shiftKey||f||(n.preventDefault(),fn(e))},setIsInputtingMandarin:g,setInputContent:N,inputContent:y,type:"text",handleReplyMessageClick:gn,handleRepliedDetailClose:xn,replied:D,showReply:Ae,handleSendSticker:function(e){var n=e.target.src;fn("sticker",n)},handleSendEmoji:function(e){var n=e.target.dataset.name;n&&function(e){var n=s.current;if(n.selectionStart||0===n.selectionStart){var t=n.selectionStart,r=n.selectionEnd,a=n.scrollTop;n.value=n.value.substring(0,t)+e+n.value.substring(r,n.value.length),N(n.value),a>0&&(n.scrollTop=a),n.selectionStart=t+e.length,n.selectionEnd=t+e.length,n.focus()}else n.value+=e,N(n.value),n.focus()}("".concat(n))}})}),(0,w.jsx)(c.AW,{path:"/post",element:(0,w.jsx)(me,{restPostSurveyPage:ne,setRestPostSurveyPage:te,setShowUnlockResult:ke,showUnlockResult:we,resultRef:u,selectedOption:ce,setSelectedOption:oe,textAnswer:pe,setTextAnswer:ve,boxChecked:xe,setBoxChecked:je,postSurveyShow:Ze})}),(0,w.jsx)(c.AW,{path:"/score",element:(0,w.jsx)(J,{})}),(0,w.jsx)(c.AW,{path:"/leaders",element:(0,w.jsx)(ee,{})})]})]})]})})},ve=s(5717),fe=function(e){var n=e.current,s=e.eventId,t=e.symbols,r=e.topic,a=(0,b.Z)();return(0,w.jsxs)("div",{className:n?"main-agenda-slide-item-current":"main-agenda-slide-item",children:[(0,w.jsxs)("div",{className:n?"main-agenda-slide-item-time-current":"main-agenda-slide-item-time",children:[(0,w.jsx)("span",{children:a.formatMessage({id:"".concat(s,"_agenda_","".concat(r,"_1"),".Local Time From")})}),(0,w.jsx)("span",{children:" - "}),(0,w.jsx)("span",{children:a.formatMessage({id:"".concat(s,"_agenda_","".concat(r,"_1"),".Local Time Ends")})})]}),(0,w.jsx)("div",{className:"main-agenda-slide-item-topic",children:(0,w.jsx)("span",{children:a.formatMessage({id:"".concat(s,"_agenda_","".concat(r,"_1"),".Topic")})})}),(0,w.jsxs)("div",{className:"main-agenda-slide-item-speaker",children:[(0,w.jsx)("div",{className:"main-agenda-slide-img-container",children:(0,w.jsx)("img",{className:"main-agenda-slide-img",src:a.formatMessage({id:"".concat(s,"_agenda_","".concat(r,"_1"),".Img Url")}),alt:"".concat(r,"_1")})}),(0,w.jsx)("div",{className:"main-agenda-slide-content",children:(0,w.jsx)("div",{className:"main-agenda-slide-content-name",children:a.formatMessage({id:"".concat(s,"_agenda_","".concat(r,"_1"),".Speaker Name")})})}),t.includes("".concat(r,"_2"))&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"main-agenda-slide-img-container",children:(0,w.jsx)("img",{className:"main-agenda-slide-img",src:a.formatMessage({id:"".concat(s,"_agenda_","".concat(r,"_2"),".Img Url")}),alt:"".concat(r,"_2")})}),(0,w.jsx)("div",{className:"main-agenda-slide-content",children:(0,w.jsx)("div",{className:"main-agenda-slide-content-name",children:a.formatMessage({id:"".concat(s,"_agenda_","".concat(r,"_2"),".Speaker Name")})})})]}),t.includes("".concat(r,"_3"))&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"main-agenda-slide-img-container",children:(0,w.jsx)("img",{className:"main-agenda-slide-img",src:a.formatMessage({id:"".concat(s,"_agenda_","".concat(r,"_3"),".Img Url")}),alt:"".concat(r,"_3")})}),(0,w.jsx)("div",{className:"main-agenda-slide-content",children:(0,w.jsx)("div",{className:"main-agenda-slide-content-name",children:a.formatMessage({id:"".concat(s,"_agenda_","".concat(r,"_3"),".Speaker Name")})})})]}),t.includes("".concat(r,"_4"))&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"main-agenda-slide-img-container",children:(0,w.jsx)("img",{className:"main-agenda-slide-img",src:a.formatMessage({id:"".concat(s,"_agenda_","".concat(r,"_4"),".Img Url")}),alt:"".concat(r,"_4")})}),(0,w.jsx)("div",{className:"main-agenda-slide-content",children:(0,w.jsx)("div",{className:"main-agenda-slide-content-name",children:a.formatMessage({id:"".concat(s,"_agenda_","".concat(r,"_4"),".Speaker Name")})})})]})]})]})},ge=(0,i.memo)(fe),xe=function(e){var n=e.sliderRef,s=(0,i.useContext)(X.A).jsonData,t={user:{user:{}},agenda:{}},r=t.user.user.eventId,a=t.agenda,c=a.agenda,l=void 0===c?[]:c,o=a.symbols,u=a.current;(0,i.useEffect)((function(){if(r){if(!l||l.length<=0)(function(e,n){Object.keys(n).filter((function(n){return n.includes(e)&&n.includes("#topic")})).map((function(e){return"".concat(n[e])}))})(r,s);(function(e,n){var s=Object.keys(n),t=s.filter((function(n){return n.includes(e)&&n.includes("#topic")})),r=s.filter((function(n){return n.includes(e)&&n.includes("#spk")}));t.map((function(e,s){return"".concat(n[e],"_").concat(n[r[s]])}))})(r,s)}}),[r,l.length]);return(0,w.jsx)(ve.Z,(0,d.Z)((0,d.Z)({},{dots:!1,infinite:!1,speed:800,slidesToShow:3,slidesToScroll:3,initialSlide:0,responsive:[{breakpoint:1800,settings:{slidesToShow:3,slidesToScroll:3,infinite:!1,initialSlide:0,dots:!1,arrows:!0}},{breakpoint:1300,settings:{slidesToShow:2,slidesToScroll:2,infinite:!1,initialSlide:0,dots:!1,arrows:!0}},{breakpoint:1e3,settings:{slidesToShow:1,slidesToScroll:1,autoplay:!1,swipe:!0,infinite:!1,initialSlide:0,dots:!1,arrows:!0}}]}),{},{className:"main-agenda-slide",ref:n,children:l&&l.length>0?["1","2","3","4","5","6","7","8","9"].map((function(e,n){return(0,w.jsx)(i.Fragment,{children:(0,w.jsx)(ge,{symbols:o,topic:e,eventId:r,current:n===u?"current":null})},e)})):null}))},je=(0,i.memo)(xe),ye=function(e){var n=e.socketOn;return(0,w.jsxs)(w.Fragment,{children:[" ",n?null:(0,w.jsx)("div",{id:"socket-hint"})]})},Ne=s(7458),we=function(e){var n=e.changeEvent,s=(e.handleClickSharedWalkin,e.onlineUsers),t=e.setShowModal,r=e.setModalContent,a=e.handleClickScoreRules,l=e.handleClickGroupChatDescription,o=(0,c.TH)(),d=(0,b.Z)(),u=(0,_.v9)((function(e){return e})).global,m=(u.socket,u.socketId),h=u.socketOn,p={},v=p.eventId,g=p.name,x=p.avatar,j=p.code,y=(0,i.useRef)(v);(0,i.useEffect)((function(){n?ne(y.current,m,j,"changeEvent"):"/main"===o.pathname?ne(v,m,j,"chatroom"):"/main/qs"===o.pathname?ne(v,m,j,"qs"):"/main/post"===o.pathname&&ne(v,m,j,"post")}),[o.pathname,n]),(0,i.useEffect)((function(){y.current=v}),[v]);return(0,w.jsxs)("nav",{className:"main-layout-header",children:[(0,w.jsx)(ye,{socketOn:h}),(0,w.jsx)("div",{className:"main-header-logo",children:(0,w.jsx)("img",{className:"google-svg",src:S.j4.EVENT_GOOGLE_TITLE,alt:"Google"})}),(0,w.jsxs)("div",{className:"main-header-right",children:[(0,w.jsxs)("div",{style:{display:"none"},children:["\u76ee\u524d\u540c\u65f6\u5728\u7ebf\u4eba\u6570 ",s]}),(0,w.jsxs)("div",{className:"main-header-user-detail",children:[(0,w.jsx)("div",{className:"main-header-user-avatar",children:(0,w.jsx)("img",{src:x,alt:"user-avatar"})}),(0,w.jsx)("div",{className:"main-header-user-name",children:g})]}),(0,w.jsxs)(f.Z,{className:"main-header-faqBtn",onClick:function(){r((0,w.jsx)(Ne.Z,{})),t(!0)},children:[E.c.faq_icon(),d.formatMessage({id:"landingPage.nav_faq"})]}),(0,w.jsxs)(f.Z,{className:"main-header-faqBtn",onClick:a,children:[E.c.rule_icon(),d.formatMessage({id:"landingPage.nav_score_rules"})]}),(0,w.jsxs)(f.Z,{className:"main-header-faqBtn",onClick:l,children:[E.c.chat_icon(),d.formatMessage({id:"landingPage.nav_groupchat"})]})]})]})},ke=v.Z.TextArea,Se=function(e){var n=e.handlePostSharedWalkin,s=(0,b.Z)(),t={}.googler.walkin.code,r="\u5c0a\u656c\u7684\u5609\u5bbe\uff0c\u8bda\u631a\u5730\u9080\u8bf7\u60a8\u53c2\u4e0e\u672c\u6b21 ".concat("Google CxO Connect \u957f\u98ce\u8fdc\u822a \u8d28\u5728\u5fc5\u5f97"," . \n\n\u60a8\u7684\u9080\u8bf7\u7801\u4e3a\uff1a").concat(t," \u8bf7\u7528\u6b64\u94fe\u63a5\u767b\u5165\uff1a").concat("".concat("https://cxotest.uppmkt.com/","#/").concat("cxotest"),"?uid=").concat(t," \n\n\u671f\u5f85\u60a8\u53c2\u4e0e\uff01");return(0,w.jsxs)("div",{className:"main-share-walkin-modal",children:[(0,w.jsx)("h4",{children:s.formatMessage({id:"main.ShareWalkinHead"})}),(0,w.jsx)("h6",{children:s.formatMessage({id:"main.ShareWalkinSubHead"})}),(0,w.jsx)(v.Z.Group,{compact:!0,children:(0,w.jsx)(ke,{style:{width:"100%",height:"180px"},value:r,disabled:!0})}),(0,w.jsxs)("div",{className:"main-share-walkin-modal-btn-gp",children:[(0,w.jsx)(f.Z,{onClick:n,children:s.formatMessage({id:"main.ShareWalkinBtnCreate"})}),(0,w.jsx)(f.Z,{onClick:function(){return navigator.clipboard.writeText(r)},children:s.formatMessage({id:"main.ShareWalkinBtnShare"})})]})]})},Ce=s(5671),Ze=s(3144),be=s(136),_e=s(7277),Ie=function(e){(0,be.Z)(s,e);var n=(0,_e.Z)(s);function s(e){return(0,Ce.Z)(this,s),n.call(this,e)}return(0,Ze.Z)(s,[{key:"componentDidMount",value:function(){var e=this;window.polyvPlayer?this.loadPlayer():this.loadScript("https://player.polyv.net/script/player.js").then((function(){e.loadPlayer()}))}},{key:"shouldComponentUpdate",value:function(e,n){return e.user.channelId!==this.props.user.channelId}},{key:"componentDidUpdate",value:function(){this.loadPlayer()}},{key:"loadPlayer",value:function(){this.player=window.polyvPlayer({wrap:".player",uid:"a428b9c908",vid:"a428b9c908a2688369d00bd7b4755712_a",width:"100%",height:"100%",lang:"en",autoplay:!0,audioMode:!1,viewerInfo:{viewerId:this.props.user.code,viewerName:this.props.user.name},param1:this.props.user.code,param2:this.props.user.name})}},{key:"loadScript",value:function(e){var n=document.head||document.getElementsByTagName("head")[0],s={};return new Promise((function(t,r){if(e in s)t();else{var a=document.createElement("script");a.type="text/javascript",a.onerror=function(s){n.removeChild(a),r(new URIError("The Script ".concat(e," is no accessible.")))},a.onload=function(){s[e]=!0,t()},n.appendChild(a),a.src=e}}))}},{key:"render",value:function(){return console.log(this.props.user.channelId),(0,w.jsx)("div",{className:"player content",id:"player",style:{width:"940px",height:"530px"}})}}]),s}(i.Component),Ae=(0,_.$j)((function(e){return{user:{}}}),null)(Ie),Me=function(e){var n=e.handleClickCustomAvatar,s=e.setShowCustomAvtBtn;return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{role:"presentation",className:"main-custom-avatar-btn",id:"main-custom-avatar-btn",onClick:n,children:[(0,w.jsx)("button",{className:"main-custom-avatar-btn-close",onClick:function(e){e.stopPropagation(),s(!1)},children:E.c.close()}),(0,w.jsx)("img",{src:S.yX.AVATAR_BTN,alt:"icon"})]})})},Ee=function(e){var n=e.handleCloseModal,s=S.yX.AVATAR_1,t=function(e){e.currentTarget.dataset.avatar};return(0,w.jsx)("div",{className:"custom-avatar-wrap",children:(0,w.jsxs)("div",{className:"custom-avatar-body",children:[(0,w.jsxs)("div",{className:"custom-avatar-title",children:[(0,w.jsx)("h3",{children:"\u6b22\u8fce\u6765\u5230 CxO Connect"}),(0,w.jsx)("h3",{children:"\u7acb\u5373\u9009\u62e9\u60a8\u7684\u4e13\u5c5e\u5934\u50cf"})]}),(0,w.jsx)("div",{className:"custom-avatar-key-avatar",children:(0,w.jsx)("img",{src:s,alt:"avatar"})}),(0,w.jsxs)("div",{className:"custom-avatar-options",children:[(0,w.jsx)("button",{onClick:function(e){return t(e)},"data-avatar":"1",children:(0,w.jsx)("div",{className:"custom-avatar-option",children:(0,w.jsx)("img",{src:S.yX.AVATAR_1,alt:"avatar"})})}),(0,w.jsx)("button",{onClick:function(e){return t(e)},"data-avatar":"2",children:(0,w.jsx)("div",{className:"custom-avatar-option",children:(0,w.jsx)("img",{src:S.yX.AVATAR_2,alt:"avatar"})})}),(0,w.jsx)("button",{onClick:function(e){return t(e)},"data-avatar":"3",children:(0,w.jsx)("div",{className:"custom-avatar-option",children:(0,w.jsx)("img",{src:S.yX.AVATAR_3,alt:"avatar"})})}),(0,w.jsx)("button",{onClick:function(e){return t(e)},"data-avatar":"4",children:(0,w.jsx)("div",{className:"custom-avatar-option",children:(0,w.jsx)("img",{src:S.yX.AVATAR_4,alt:"avatar"})})})]}),(0,w.jsx)("div",{className:"custom-avatar-btn",children:(0,w.jsx)(f.Z,{onClick:function(){n()},children:"\u786e\u8ba4\u66f4\u6362\u5934\u50cf"})})]})})},Re=(0,i.memo)(Ee),Te=function(){return(0,w.jsxs)("div",{className:"score-rules-wrap",children:[(0,w.jsxs)("div",{className:"score-rules-title",children:[(0,w.jsx)("div",{children:"\u4e92\u52a8\u589e\u80fd\u91cf \u767b\u9876\u62bd\u597d\u793c"}),(0,w.jsx)("div",{children:(0,w.jsx)("img",{src:S.yX.SCORE_RULE_ICON,alt:""})})]}),(0,w.jsxs)("div",{className:"score-rules-paragraph",children:[(0,w.jsxs)("div",{className:"score-rules-paragraph-title",children:[(0,w.jsx)("div",{children:(0,w.jsx)("img",{src:S.yX.BALLON1,alt:""})}),(0,w.jsx)("div",{children:"\u4e92\u52a8\u89c4\u5219"})]}),(0,w.jsxs)("ol",{children:[(0,w.jsx)("li",{children:"\u60a8\u53ef\u53c2\u4e0e\u5982\u4e0b\u4e92\u52a8\u83b7\u5f97\u76f8\u5e94\u80fd\u91cf\u503c\uff1a"}),(0,w.jsx)("li",{children:"\u53c2\u4e0e\u4f1a\u524d\u63d0\u95ee + 2,000 \u80fd\u91cf\u503c"}),(0,w.jsx)("li",{children:"\u53c2\u4e0e\u73b0\u573a\u4e92\u52a8\u7b54\u9898\uff08\u5171 4 \u6b21\uff09+ 1,000 \u80fd\u91cf\u503c"}),(0,w.jsx)("li",{children:"\u804a\u5929\u7a97\u53e3\u53c2\u4e0e\u63d0\u95ee\u4e92\u52a8\uff08\u6bcf\u6b21 + 1,000 \u80fd\u91cf\u503c\uff0c2,000 \u80fd\u91cf\u503c\u5c01\u9876\uff09+ 2,000 \u80fd\u91cf"}),(0,w.jsx)("li",{children:"\u586b\u5199\u6d3b\u52a8\u8c03\u7814\u95ee\u5377 + 1,000 \u80fd\u91cf\u503c"})]})]}),(0,w.jsxs)("div",{className:"score-rules-paragraph",children:[(0,w.jsxs)("div",{className:"score-rules-paragraph-title",children:[(0,w.jsx)("div",{children:(0,w.jsx)("img",{src:S.yX.BALLON2,alt:""})}),(0,w.jsx)("div",{children:"\u62bd\u5956\u89c4\u5219"})]}),(0,w.jsxs)("ol",{children:[(0,w.jsx)("li",{children:"\u7d2f\u8ba1\u8fbe\u5230 3,000 \u80fd\u91cf\u503c\uff0c\u5373\u53ef\u83b7\u5f97\u62bd\u5956\u8d44\u683c"}),(0,w.jsx)("li",{children:"\u8fbe\u5230 3,000 \u80fd\u91cf\u503c\u540e\uff0c\u6bcf\u589e\u52a0 1,000 \u80fd\u91cf\u503c\uff0c\u4e2d\u5956\u51e0\u7387\u589e\u52a0\u4e00\u500d\uff08\u5373 4,000 \u80fd\u91cf\u503c\u4e2d\u5956\u51e0\u7387\u4e3a 2 \u500d\uff0c5,000 \u80fd\u91cf\u503c\u4e2d\u5956\u51e0\u7387\u4e3a 3 \u500d\uff0c6,000 \u80fd\u91cf\u503c\u4e2d\u5956\u51e0\u7387\u4e3a 4 \u500d\uff09"}),(0,w.jsx)("li",{children:"\u62bd\u5956\u65f6\u95f4\uff1a\u62bd\u5956\u5c06\u5728\u6d3b\u52a8\u671f\u95f4\u62bd\u5956\u73af\u8282\u8fdb\u884c\u62bd\u53d6"}),(0,w.jsx)("li",{children:"\u5956\u54c1\u53d1\u653e\uff1a\u6d3b\u52a8\u7ed3\u675f\u540e\uff0c\u5c06\u7531\u4e3b\u529e\u65b9\u8fdb\u884c\u7edf\u4e00\u53d1\u653e"}),(0,w.jsx)("li",{children:"\u5956\u54c1\u4fe1\u606f\uff1a\u5927\u7586\u624b\u6301\u4e91\u53f0"})]}),(0,w.jsx)("div",{className:"score-rules-paragraph-img",children:(0,w.jsx)("img",{src:S.yX.SCORE_RULE_1,alt:""})})]}),(0,w.jsxs)("div",{className:"score-rules-paragraph",children:[(0,w.jsxs)("div",{className:"score-rules-paragraph-title",children:[(0,w.jsx)("div",{children:(0,w.jsx)("img",{src:S.yX.BALLON3,alt:""})}),(0,w.jsx)("div",{children:"\u60ca\u559c\u5f69\u86cb\u62bd\u5956"})]}),(0,w.jsx)("div",{children:(0,w.jsx)("p",{children:"\u53c2\u52a0\u6d3b\u52a8\u671f\u95f4 4 \u6b21\u4e92\u52a8\u7b54\u9898\uff0c\u5728\u83b7\u5f97 1,000 \u80fd\u91cf\u503c\u7684\u540c\u65f6\uff0c\u60a8\u8fd8\u5c06\u83b7\u5f97\u60ca\u559c\u5f69\u86cb\u62bd\u5956\u7684\u8d44\u683c\uff0c\u62bd\u5956\u5c06\u5728\u6d3b\u52a8\u671f\u95f4\u62bd\u53d6\uff0c\u6d3b\u52a8\u7ed3\u675f\u540e\uff0c\u5956\u54c1\u5c06\u7531\u4e3b\u529e\u65b9\u8fdb\u884c\u7edf\u4e00\u53d1\u653e\u3002"})}),(0,w.jsx)("div",{className:"score-rules-paragraph-img",children:(0,w.jsx)("img",{src:S.yX.SCORE_RULE_2,alt:""})})]})]})},Le=(0,i.memo)(Te),Oe=function(){return(0,w.jsxs)("div",{className:"group-chat-desc-wrap",children:[(0,w.jsxs)("div",{className:"group-chat-desc-title",children:[(0,w.jsx)("div",{children:"\u5206\u7ec4\u95ee\u7b54"}),(0,w.jsx)("div",{children:(0,w.jsx)("img",{src:S.yX.GROUP_CHAT_ICON,alt:""})})]}),(0,w.jsxs)("div",{className:"group-chat-desc-paragraph",children:[(0,w.jsxs)("div",{className:"group-chat-desc-paragraph-title",children:[(0,w.jsx)("div",{children:(0,w.jsx)("img",{src:S.yX.BALLON1,alt:""})}),(0,w.jsx)("div",{children:"\u5206\u7ec4\u95ee\u7b54\u8bf4\u660e"})]}),(0,w.jsx)("div",{children:(0,w.jsx)("p",{children:"\u60a8\u53ef\u4ee5\u6839\u636e\u60a8\u7684\u9700\u6c42\uff0c\u9009\u62e9\u8fdb\u5165\u4e0d\u540c\u8bdd\u9898\u7684\u5206\u7ec4\u95ee\u7b54\u804a\u5929\u5ba4\uff0c\u7531\u8c37\u6b4c\u4e13\u5bb6\u9488\u5bf9\u6d3b\u52a8\u671f\u95f4\u672a\u83b7\u5f97\u89e3\u7b54\u7684\u95ee\u9898\uff0c\u4e3a\u60a8\u8fdb\u884c\u8fd1\u4e00\u6b65\u7b54\u7591\uff0c\u60a8\u4e5f\u53ef\u4ee5\u548c\u5fd7\u540c\u9053\u5408\u7684\u53c2\u4f1a\u5609\u5bbe\u8fdb\u884c\u6df1\u5165\u4ea4\u6d41\u3002"})})]}),(0,w.jsxs)("div",{className:"group-chat-desc-paragraph",children:[(0,w.jsxs)("div",{className:"group-chat-desc-paragraph-title",children:[(0,w.jsx)("div",{children:(0,w.jsx)("img",{src:S.yX.BALLON2,alt:""})}),(0,w.jsx)("div",{children:"\u767b\u5f55\u65b9\u5f0f\u8bf4\u660e"})]}),(0,w.jsxs)("ol",{children:[(0,w.jsx)("li",{children:"\u9009\u62e9\u60a8\u611f\u5174\u8da3\u7684\u8bdd\u9898\u804a\u5929\u5ba4\u767b\u5f55\uff0c\u5c06\u4ee5\u817e\u8baf\u4f1a\u8bae\u5f62\u5f0f\u8fdb\u884c"}),(0,w.jsxs)("li",{children:[(0,w.jsx)("div",{children:"\u817e\u8baf\u4f1a\u8bae\u767b\u5165\u65b9\u5f0f"}),(0,w.jsxs)("div",{children:["PC\u7aef\uff1a\u8bf7\u786e\u4fdd\u60a8\u7684\u7535\u8111\u5df2\u5b89\u88c5\u817e\u8baf\u4f1a\u8bae\u5e94\u7528\uff0c\u5982\u8fd8\u6ca1\u6709\u5b89\u88c5\u8bf7",(0,w.jsx)("a",{href:"https://meeting.tencent.com/download/",target:"blank",children:"\u70b9\u51fb\u8fd9\u91cc"}),"\u4e0b\u8f7d\u5e76\u5b89\u88c5\u624b\u673a\u7aef\uff1a\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\u767b\u5f55\u5982\u679c\u60a8\u5728\u767b\u5f55\u817e\u8baf\u4f1a\u8bae\u8fc7\u7a0b\u4e2d\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u5728\u804a\u5929\u7a97\u53e3\u544a\u8bc9\u6211\u4eec\uff0c\u4f1a\u8bae\u5c0f\u52a9\u624b\u5c06\u5c3d\u5feb\u534f\u52a9\u60a8\u89e3\u51b3 \u4e0b\u8f7d\u5e76\u5b89\u88c5"]}),(0,w.jsx)("div",{children:"\u624b\u673a\u7aef\uff1a\u8bf7\u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\u767b\u5f55"}),(0,w.jsxs)("div",{className:"group-chat-qrcode-gp",children:[(0,w.jsxs)("div",{className:"group-chat-qrcode",children:[(0,w.jsx)("img",{src:S.yX.WE_CHAT,alt:""}),(0,w.jsx)("div",{children:"\u5fae\u4fe1\u5c0f\u7a0b\u5e8f"})]}),(0,w.jsxs)("div",{className:"group-chat-qrcode",children:[(0,w.jsx)("img",{src:S.yX.IOS,alt:""}),(0,w.jsx)("div",{children:"iOS \u5e94\u7528\u4e0b\u8f7d"})]}),(0,w.jsxs)("div",{className:"group-chat-qrcode",children:[(0,w.jsx)("img",{src:S.yX.ANDROID,alt:""}),(0,w.jsx)("div",{children:"Android \u5e94\u7528\u4e0b\u8f7d"})]})]}),(0,w.jsx)("div",{children:"\u5982\u679c\u60a8\u5728\u767b\u5f55\u8fc7\u7a0b\u4e2d\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u8bf7\u5728\u804a\u5929\u7a97\u53e3\u544a\u8bc9\u6211\u4eec\uff0c\u4f1a\u8bae\u5c0f\u52a9\u624b\u5c06\u5c3d\u5feb\u534f\u52a9\u60a8\u89e3\u51b3"})]})]})]})]})},Pe=(0,i.memo)(Oe),De=s(2579),Ue=function(e){var n=e.showReload,s=e.handleReload,t=(0,b.Z)();return(0,w.jsxs)("div",{style:{position:"relative"},children:[(0,w.jsx)("div",{style:{position:"absolute",top:"40%",left:"0",right:"0",zIndex:"200",fontSize:"1rem",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:n?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{children:t.formatMessage({id:"main.MAKE_RELOAD_PAGE_FOR_CONNECTING"})}),(0,w.jsx)(f.Z,{onClick:s,children:t.formatMessage({id:"main.RELOAD_PAGE"})})]}):(0,w.jsx)("span",{children:t.formatMessage({id:"main.TRYING_CONNECTING"})})}),(0,w.jsx)(De.Z,{height:700})]})},Fe=(s(5862),(0,i.createContext)(null)),Xe=function(e){e.preventDefault(),e.returnValue=!0},Be=function(){var e=(0,i.useState)(!1),n=(0,a.Z)(e,2),s=n[0],d=n[1],u=(0,i.useState)(null),m=(0,a.Z)(u,2),h=m[0],p=m[1],v=(0,i.useState)(!1),f=(0,a.Z)(v,2),g=f[0],x=f[1],j=(0,i.useState)(!1),y=(0,a.Z)(j,2),N=y[0],k=y[1],C=(0,i.useState)(0),Z=(0,a.Z)(C,2),b=Z[0],A=Z[1],M=(0,i.useState)(!0),E=(0,a.Z)(M,2),R=E[0],T=E[1],L=(0,i.useState)(!0),O=(0,a.Z)(L,2),P=(O[0],O[1]),D=(0,i.useState)(!0),U=(0,a.Z)(D,2),F=U[0],B=U[1],G=(0,i.useState)(!1),W=(0,a.Z)(G,2),z=(W[0],W[1]),K=((0,i.useContext)(X.A).setLocale,(0,_.v9)((function(e){return e}))),q=K.global,H=K.main,V=q.socket,Y=q.socketId,Q=q.socketOn,$=H.mainInitial,J=(0,_.I0)();console.log($,"mainInitial");(0,c.s0)();var ee=(0,i.useRef)(null),ne=(0,i.useRef)(0),se=(0,i.useRef)(0),te=(0,i.useRef)(0);(0,i.useEffect)((function(){J((0,I.gc)()),J((0,I.F7)()),J((0,I.x6)())}),[J]),(0,i.useEffect)((function(){return function(){return window.clearTimeout(te.current)}}),[V,Y]),(0,i.useEffect)((function(){return window.addEventListener("beforeunload",Xe),function(){return window.removeEventListener("beforeunload",Xe)}}),[]),(0,i.useEffect)((function(){return V&&(V.on("switchAgendaPage",(function(e){return de(e)})),V.on("alreadyInRoom",(function(e){return ue(e)})),V.on("updateUserList",(function(){return oe()})),V.on("reload",(function(){return re()})),V.on("getOnlineCount",(function(e){return ce(e)})),V.on("deliverPrize",(function(e){return le(e)})),V.on("groupChatOpen",(function(e){return ae(e)}))),function(){V&&(V.removeListener("switchAgendaPage"),V.removeListener("alreadyInRoom"),V.removeListener("updateUserList"),V.removeListener("reload"),V.removeListener("getOnlineCount"),V.removeListener("deliverPrize"),V.removeListener("groupChatOpen"))}}),[V]),(0,i.useEffect)((function(){function e(){return(e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:n=e.sent,P(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,i.useEffect)((function(){if(Q)k(!1),clearTimeout(ne.current),clearTimeout(se.current);else{var e=window.setTimeout((function(){}),5e3),n=window.setTimeout((function(){k(!0)}),3e4);ne.current=e,se.current=n}return function(){clearTimeout(ne.current),clearTimeout(se.current)}}),[Q]),(0,i.useEffect)((function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}),[]);var re=function(){window.removeEventListener("beforeunload",Xe),window.location.reload()},ae=function(e){var n=e.groupChatShow;P(n)},ce=function(e){var n=e.online;A(n)},le=function(e){},oe=function(){},de=function(e){var n=e.payload.payload,s=e.message;console.log({message:s}),he(n)},ue=function(e){},me=(0,i.useCallback)((function(){d(!1)}),[]),he=function(e){ee.current&&ee.current.slickGoTo(e)},ve=function(){};return(0,w.jsxs)("div",{className:"main-wrap",id:"main-wrap",children:[(0,w.jsx)(o.Z,{showModal:s,handleCloseModal:me,children:h}),F&&(0,w.jsx)("div",{className:"main-open-animation-lottie",children:(0,w.jsx)("div",{className:"main-open-animation-container",children:(0,w.jsx)(l.Z,{isClickToPauseDisabled:!0,options:{loop:!1,autoplay:!0,animationData:S.vi.OPEN_ANIMATION,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},eventListeners:[{eventName:"complete",callback:function(){return B(!1)}}]})})}),(0,w.jsxs)(Fe.Provider,{value:{setShowModal:d,setModalContent:p},children:[(0,w.jsx)(we,{changeEvent:g,setChangeEvent:x,handleClickSharedWalkin:function(){p((0,w.jsx)(Se,{handlePostSharedWalkin:ve})),d(!0)},onlineUsers:b,setModalContent:p,setShowModal:d,handleClickScoreRules:function(){p((0,w.jsx)(Le,{})),d(!0)},handleClickGroupChatDescription:function(){p((0,w.jsx)(Pe,{})),d(!0)}}),(0,w.jsxs)("div",{className:"main-body",children:[R&&(0,w.jsx)(Me,{handleClickCustomAvatar:function(){p((0,w.jsx)(Re,{handleCloseModal:me})),d(!0)},setShowCustomAvtBtn:T}),(0,w.jsxs)("div",{className:"main-body-left",children:[(0,w.jsx)("div",{className:"main-left-player-mask",children:(0,w.jsx)(Ae,{playerComplete:function(){B(!1),z(!0)}})}),(0,w.jsx)("div",{className:"main-agenda-container",children:(0,w.jsx)(je,{sliderRef:ee})})]}),Q?(0,w.jsx)(pe,{setChangeEvent:x}):(0,w.jsx)(Ue,{showReload:N,handleReload:re})]})]})]})}}}]);
//# sourceMappingURL=127.7310c8fd.chunk.js.map